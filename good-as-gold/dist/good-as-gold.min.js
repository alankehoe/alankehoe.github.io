
/*!
 * good-as-gold v0.0.1 by Alan Kehoe <alankehoe111@gmail.com>
 * Copyright 2016
 */

!function(a){"use strict";a.module("good-as-gold",["ngRoute","ngSanitize","duScroll","ui.bootstrap","angular-cache","good-as-gold.common","good-as-gold.home","good-as-gold.projects"])}(window.angular),function(a){"use strict";a.module("good-as-gold.common",["good-as-gold.common.contentful"])}(window.angular),function(a){"use strict";a.module("good-as-gold.common.contentful",[])}(window.angular),function(a,b){"use strict";function c(){var c={host:"cdn.contentful.com",space:null,accessToken:null,secure:!0};this.setOptions=function(b){return a.extend(c,b),this},this.setHost=function(a){c.host=a},this.setSpace=function(a){c.space=a},this.setAccessToken=function(a){c.accessToken=a},this.setSecure=function(a){c.secure=a},this.$get=["$q",function(a){var d=b.createClient(c),e="space contentTypes contentType entries entry assets asset".split(" ");return e.forEach(function(b){var c=d[b];d[b]=function(){return a.when(c.apply(d,arguments))}}),d}]}a.module("good-as-gold.common.contentful").provider("ContentfulService",c)}(window.angular,window.contentful),function(a,b){"use strict";function c(){return function(a){return b(a)}}a.module("good-as-gold.common").filter("markdown",c)}(window.angular,window.marked),function(a){a.fn.textfill=function(b){function c(){h.debug&&"undefined"!=typeof console&&"undefined"!=typeof console.debug&&console.debug.apply(console,arguments)}function d(){"undefined"!=typeof console&&"undefined"!=typeof console.warn&&console.warn.apply(console,arguments)}function e(a,b,d,e,f,g){function h(a,b){var c=" / ";return a>b?c=" > ":a==b&&(c=" = "),c}c("[TextFill] "+a+" { font-size: "+b.css("font-size")+",Height: "+b.height()+"px "+h(b.height(),d)+d+"px,Width: "+b.width()+h(b.width(),e)+e+",minFontPixels: "+f+"px, maxFontPixels: "+g+"px }")}function f(a,b,c,d,f,g,h,i){for(e(a,b,f,g,h,i);i-1>h;){var j=Math.floor((h+i)/2);if(b.css("font-size",j),c.call(b)<=d){if(h=j,c.call(b)==d)break}else i=j;e(a,b,f,g,h,i)}return b.css("font-size",i),c.call(b)<=d&&(h=i,e(a+"* ",b,f,g,h,i)),h}var g={debug:!1,maxFontPixels:40,minFontPixels:4,innerTag:"span",widthOnly:!1,success:null,callback:null,fail:null,complete:null,explicitWidth:null,explicitHeight:null,changeLineHeight:!1},h=a.extend(g,b);return c("[TextFill] Start Debug"),this.each(function(){var b=a(h.innerTag+":visible:first",this),e=h.explicitHeight||a(this).height(),g=h.explicitWidth||a(this).width(),i=b.css("font-size"),j=parseFloat(b.css("line-height"))/parseFloat(i);c("[TextFill] Inner text: "+b.text()),c("[TextFill] All options: ",h),c("[TextFill] Maximum sizes: { Height: "+e+"px, Width: "+g+"px }");var k=h.minFontPixels,l=h.maxFontPixels<=0?e:h.maxFontPixels,m=void 0;h.widthOnly||(m=f("Height",b,a.fn.height,e,e,g,k,l));var n=void 0;if(n=f("Width",b,a.fn.width,g,e,g,k,l),h.widthOnly)b.css({"font-size":n,"white-space":"nowrap"}),h.changeLineHeight&&b.parent().css("line-height",j*n+"px");else{var o=Math.min(m,n);b.css("font-size",o),h.changeLineHeight&&b.parent().css("line-height",j*o+"px")}c("[TextFill] Finished { Old font-size: "+i+", New font-size: "+b.css("font-size")+" }"),b.width()>g||b.height()>e&&!h.widthOnly?(b.css("font-size",i),h.fail&&h.fail(this),c("[TextFill] Failure { Current Width: "+b.width()+", Maximum Width: "+g+", Current Height: "+b.height()+", Maximum Height: "+e+" }")):h.success?h.success(this):h.callback&&(d("callback is deprecated, use success, instead"),h.callback(this))}),h.complete&&h.complete(this),c("[TextFill] End Debug"),this}}(window.jQuery),function(a){"use strict";function b(a,b){a.otherwise({redirectTo:"/"}),b.setSpace("36l42364mlvh"),b.setAccessToken("013e524416a743038d909b96d0dc8ebfa32ac166a45ff48b9046580626faac5b")}b.$inject=["$routeProvider","ContentfulServiceProvider"],a.module("good-as-gold").config(b)}(window.angular),function(a){"use strict";a.module("good-as-gold").constant("CACHE_KEYS",{PROJECTS_CACHE_KEY:"/projects",PROJECT_CACHE_KEY_BASE:"/project/"})}(window.angular),function(a){"use strict";a.module("good-as-gold.home",[]).value("duScrollDuration",2e3).value("duScrollOffset",0)}(window.angular),function(a){"use strict";function b(a){a.when("/",{templateUrl:"/assets/js/home/partials/main.html",controller:"HomeCtrl"})}b.$inject=["$routeProvider"],a.module("good-as-gold.home").config(b)}(window.angular),function(a){"use strict";function b(b,c,d,e,f,g,h,i){var j="1ypg91RQScOIWcs0oQ8U2w",k=i.get("ContentCache"),l=k.get(g.PROJECTS_CACHE_KEY);l?b.projects=l:h.entries({limit:3,order:"-sys.updatedAt",content_type:j}).then(function(a){b.projects=a,k.put(g.PROJECTS_CACHE_KEY,b.projects)}),b.openProject=function(a){k.put(g.PROJECT_CACHE_KEY_BASE+a.sys.id,a),c.path("/projects/"+a.sys.id)},b.scrollToTheTop=function(){d.duScrollTop(0,2e3)},b.scrollToPage=function(b){var c=a.element(document.getElementById(b));d.duScrollToElement(c,0,2e3)},b.goToUrl=function(a){e.open(a,"_blank")},"true"===localStorage.getItem("goToWork")?b.scrollToPage("WORK"):b.scrollToTheTop(),localStorage.setItem("goToWork","false"),f.$on("duScrollspy:becameActive",function(a,c,d){b.activeNav=c[0].innerText})}b.$inject=["$scope","$location","$document","$window","$rootScope","CACHE_KEYS","ContentfulService","CacheFactory"],a.module("good-as-gold.home").controller("HomeCtrl",b)}(window.angular),function(a,b){"use strict";function c(){return{restrict:"A",scope:{projectTileUrl:"@"},link:function(a,b){var c=(b.find(".project-tile-tab"),b.find(".project-tile")),d=b.find(".project-link"),e={background:"linear-gradient(to bottom, rgba(112,128,144,0.8) 0%,rgba(112,128,144,0.7) 100%), url("+a.projectTileUrl+") no-repeat","background-size":"100%",color:"white"};c.css(e),d.css("opacity",1),b.on("mouseenter",function(){c.css({background:"linear-gradient(to bottom, rgba(47,60,73,0.8) 0%,rgba(47,60,73,0.7) 100%), url("+a.projectTileUrl+") no-repeat","background-size":"100%",color:"white"}),d.css("opacity",.6)}),b.on("mouseleave",function(){c.css(e),d.css("opacity",1)})}}}function d(a){return{restrict:"A",link:function(c,d){a(function(){b(d).textfill({maxFontPixels:70,innerTag:".text-left"})})}}}function e(a){return{restrict:"A",link:function(c,d,e){var f=b(d);a(function(){f.fadeOut("slow",function(){b(this).load(function(){b(this).fadeIn("slow")}),b(this).attr("src",e.transitionImage)})},2e3)}}}function f(){return{restrict:"A",link:function(a,c){var d=b(c).css("color");b(c).hover(function(){b(this).css("color","white")},function(){b(this).css("color",d)})}}}function g(){return{restrict:"A",link:function(a,c){var d=b(c),e=b(d).attr("src");b(d).attr("src",e+"?"+(new Date).getTime())}}}d.$inject=["$timeout"],e.$inject=["$timeout"],a.module("good-as-gold.home").directive("projectTileHover",c).directive("textFill",d).directive("transitionImage",e).directive("whiteHover",f).directive("imageCacheBuster",g)}(window.angular,window.jQuery),function(a){"use strict";a.module("good-as-gold.projects",[])}(window.angular),function(a){"use strict";function b(a){a.when("/projects/:projectId",{templateUrl:"/assets/js/projects/partials/project.html",controller:"ProjectCtrl"}).when("/studies/:projectId",{templateUrl:"/assets/js/projects/partials/study.html",controller:"ProjectCtrl"})}b.$inject=["$routeProvider"],a.module("good-as-gold.projects").config(b)}(window.angular),function(a){"use strict";function b(a,b,c,d,e){function f(a,b){for(var c=[],d=0,e=a.length;e>d;)c.push(a.slice(d,d+=b));return c}var g=e.get("ContentCache");localStorage.setItem("goToWork","true"),a.project=g.get(d.PROJECT_CACHE_KEY_BASE+c.projectId),a.project||b.path("/"),a.projectPhotos=a.project.fields.photos,a.labelChunks=f(a.project.fields.labels,2),a.returnToHome=function(){b.path("/")},a.goToProject=function(a){b.path("/projects/"+a)},a.goToStudy=function(a){b.path("/studies/"+a)}}b.$inject=["$scope","$location","$routeParams","CACHE_KEYS","CacheFactory"],a.module("good-as-gold.projects").controller("ProjectCtrl",b)}(window.angular),function(a,b){"use strict";function c(){return{restrict:"A",link:function(a){var c=b("body"),d=c.css("background");c.css("background","white"),a.$on("$destroy",function(){c.css("background",d)})}}}function d(a){return{restrict:"A",link:function(c,d){a(function(){for(var a=b(d).find("img"),c=0;c<a.length;c++){var e=a[c],f=b(e).attr("src");f&&f.indexOf("contentful.com")>0&&b(e).addClass("project-image img-responsive center-block animated fadeIn")}})}}}d.$inject=["$timeout"],a.module("good-as-gold.projects").directive("whiteBackground",c).directive("centerImages",d)}(window.angular,window.jQuery),function(a){"use strict";function b(a){a.createCache("ContentCache",{maxAge:9e5,cacheFlushInterval:6e6,deleteOnExpire:"aggressive",storageMode:"localStorage"})}b.$inject=["CacheFactory"],a.module("good-as-gold").run(b)}(angular);
//# sourceMappingURL=good-as-gold.min.js.map